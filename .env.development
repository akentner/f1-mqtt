# F1 MQTT Bridge - Development Environment
# Copy this to .env for development with mock server

# ==============================================
# F1 Live Timing API - DEVELOPMENT MODE
# ==============================================

# Use local mock server instead of real F1 API
F1_NEGOTIATE_URL=http://localhost:3001/signalr/negotiate
F1_CONNECT_URL=ws://localhost:3001/signalr/connect

# ==============================================
# MQTT Broker Configuration  
# ==============================================

MQTT_BROKER_URL=mqtt://192.168.178.3:1883
MQTT_CLIENT_ID=f1-mqtt-bridge-dev
MQTT_TOPIC_PREFIX=f1/dev
MQTT_QOS=1
MQTT_RETAIN=false

# ==============================================
# Logging Configuration - Development
# ==============================================

# More verbose logging for development
LOG_LEVEL=debug
LOG_ENABLE_CONSOLE=true
LOG_ENABLE_FILE=false

# SignalR Message Logging - Enable for debugging
SIGNALR_MESSAGE_LOGGING=true
SIGNALR_LOG_FILE_PATH=./logs/signalr-messages-dev.log
SIGNALR_LOG_MAX_FILE_SIZE=52428800
SIGNALR_LOG_MAX_FILES=5

# Session Recording - Enable for capturing real F1 sessions
SESSION_RECORDING_ENABLED=true
SESSION_RECORDING_PATH=./recordings
SESSION_RECORDING_MAX_SIZE=104857600
SESSION_RECORDING_AUTO_START=true
SESSION_DETECTION_TIMEOUT=30000
SESSION_RECORDING_FILTER_KEEP_ALIVE=true

# ==============================================
# Server Configuration
# ==============================================

SERVER_PORT=8080
SERVER_HEALTH_ENDPOINT=/health

# ==============================================
# Development Settings
# ==============================================

NODE_ENV=development

# Enable garbage collection and memory debugging
NODE_OPTIONS="--expose-gc --max-old-space-size=1024"

# ==============================================
# Notes for Development
# ==============================================

# 1. Start the mock server first:
#    cd test-server && npm start
#
# 2. Start the main application:
#    npm run dev:watch
#
# 3. Test endpoints:
#    curl http://localhost:3001/health     # Mock server health
#    curl http://localhost:8080/health     # Main app health
